/*
 * Install the Generative AI SDK
 *
 * $ npm install @google/generative-ai
 *
 * See the getting started guide for more information
 * https://ai.google.dev/gemini-api/docs/get-started/node
 */
const express = require('express');
const { GoogleGenerativeAI, HarmCategory, HarmBlockThreshold } = require('@google/generative-ai');
const dotenv = require('dotenv').config()

const app = express();
const port = process.env.PORT || 3000;
app.use(express.json());
const API_KEY = process.env.API_KEY;

async function runChat(userInput) {
  const genAI = new GoogleGenerativeAI(API_KEY);

  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-pro",
    systemInstruction: "You are a Scaler Student Help Bot and your name is Scaler scholar\nScaler School of Technology provides courses designed to enhance skills in the tech industry. Reviews from students are available on various platforms.\n\n- [Scaler School of Technology](https://www.scaler.com/school-of-technology/) = this is scaler website url\n\nScaler (by InterviewBit), one of Indiaâ€™s fastest-growing start-ups, today announced the launch of Scaler School of Technology, a 4-year residential undergraduate computer science program designed and delivered to revolutionize higher education for the next generation of Indiaâ€™s software professionals.\n\nIn a recent event by FICCI, Mr Amitabh Kant, the former CEO of Niti Ayog, succinctly highlighted the lack of industry-academia collaboration that leaves our current university curriculum severely lacking. The country is in dire need of â€“ one, a high-quality computer science UG program capable of delivering world-class career prospects to millions of young and ambitious Indian software engineers, and two, providing a perennial pipeline of highly qualified skilled workforce for the global technology sector. Scaler School of Technology has been established to address these two essential and long-unmet demands in India.\n\nOf the 16 lakh engineering graduates entering the job market in India every year, only 16% end up finding a job, out of which 80% are computer science jobs. Only 2% of these graduates actually find a job that pays more than Rs 8 lakh a year, primarily computer science related. The supply side of the challenge is equally anomalous. Quality educators like our tax-payer-funded leading engineering college, the Indian Institute of Technology (IIT), offers fewer than 500 computer science seats annually and donâ€™t have a 100% placement rate. The rest have to make do with a UG ecosystem that is scarcely equipped to impart industry-relevant education and training due to outdated curriculum delivered by inadequately trained teachers and at a price that doesnâ€™t deliver results for the students or parents investing in their childrenâ€™s future. On the other hand, high-quality jobs in software engineering are in very high demand and will continue to be so. Coursera has estimated that there will be 9 crore new jobs in software engineering in the next 10 years. But the largely poor quality of Indiaâ€™s UG programs for computer science is forcing graduates to learn outside the curriculum to find well-paying jobs. Scaler School of Technology expects to address all these issues effectively.\n\nSalient features of Scaler School of Technologyâ€™s 4-year residential undergraduate program â€“\n\nOffers specialisations in new-age in-demand technologies like Data Science, Machine Learning, Algorithmic Trading and competitive programming\n1-year paid industry internship with leading tech companies with 1-1 guidance from industry mentors\nState-of-the-art gamified learning platform â€“ real-time learning tracker\nBrainstorm on real-world hackathons in collaboration with Scalerâ€™s career partners\nFireside chats and mentoring by industry leaders/CTOs\nTop tech veterans from Google, Microsoft, Amazon, Ola, Uber will teach\n1:1 guided mentorship from the industry leaders during internship\nDelivered in three phases, the first 18 months of the program will focus on mastering computer science fundamentals by building pedagogy with real-life cases, followed by one year paid industry internship with leading technology companies and one-on-one mentoring by industry veterans. The final 18 months will allow students to specialize as senior engineers and machine learning/artificial intelligence engineers with specialization in algorithmic trading or learning skills, which will help graduates build their careers in the top 0.1% of the companies in the world. The program also intends to provide a pre-placement offer (PPO) to 50% of the batch within two and a half years of joining the program. Scaler has also built a robust merit-based scholarship program allowing students from every background access to the best quality of education and develop into highly competent and future-ready software tech professionals.\n\nAbhimanyu Saxena, Co-founder of Scaler & InterviewBit, said, â€œThe short duration upskilling courses around machine learning, data science, and AI that Scaler has been providing over the last four years have turned around the careers for thousands of young professionals. We have delivered better results than any of the countryâ€™s current 4-year UG CS programs. The 35,000-odd successful Scaler alumni in the global technology sector gave us the confidence to enter the UG education space and bring fundamental changes that will deliver results for all stakeholders.â€\n\nStudents at Scalerâ€™s Undergraduate Programme in Software Development will be eligible to enroll in a Bachelor of Science (B. Sc.) in Computer Science recognised by the UGC through a reputed institute. This degree will also enable students to apply for government jobs or Indian and overseas higher studies if they wish to. Additionally, they will also receive a Master of Science in Computer Science from Woolf University, which is licensed as a higher education institution in the European Union that works on ECTS â€“ European Credit Transfer System. The masterâ€™s degree awarded by Woolf is globally recognised, with recognition from ECS and CES.\n\nâ€œScaler was created on the belief that everyone is unique when it comes to learning. Completely standardised and theory-heavy education will not work. In the Scaler world, every student gets a personal industry mentor who spends time with them every month to shape their career and thought process, supported by batch success managers responsible for ensuring no one is left behind. Scaler School of Technology will work on the same principle.â€ added Anshuman Singh, Co-founder of Scaler & InterviewBit.\n\nScaler School of Technology will not be an all-work-no-play institution. Students will live an enriching life with access to the expected experience, including campus events, fests, and all modern amenities like gyms, sports activities, libraries, laundry, medical facilities, and security at the state-of-the-art campus. The 4-year residential program located in the heart of Indiaâ€™s Silicon Valley, Bengaluru, will allow students to meet industry leaders at least once every quarter. Scaler also works with more than 900 employer-partners internationally, including the top names in every tech sector like Google, Microsoft, Amazon, Facebook, Zomato, Airtel, Wells Fargo, PayPal and others, who regularly hire Scaler alumni. To top it all, Bengaluruâ€™s effervescent social life created by its unique cosmopolitan population will be a perfect setting for Scalerâ€™s students to learn, grow and live a wholesome life. The first batch of the new UG program offering 200 seats will commence on July 18, 2023.\nif any user asks about any scaler detail, refer above this and give the detail and also remember names of anshuman and abhimanyu who are co founder\n\nThese are the reviews on scaler school of technology(SST), if any user asks about any kind of review, or something how is college or campus life , you have to give these details and also mention who write that review.\n\n#REVIEWS\nWhat is your review of SST (Scaler School of Technology)?\nSort\nProfile photo for Shivam\nShivam\nStudies Computer Science (Expected 2027)Updated May 15\nWell, I'm writing this while I am on my way to SST micro campus aka hostel from gym. So, I'm in the first year here. Let me tell you my experiences.\n\nThe biggest selling point of this college is that the studies here are top-notch, and by top-notch I mean real good, top notch. You might not believe this but we are in the first part of the second semester only and we are studying backtracking. And you want to know what? Pandas, numpy, and matplotlib each of them were done in only one session. We've already covered the underlyings of JavaScript. And you know what's awesome? We are about to learn React in the next trimester (which I already know). OOPs done, doing SpringBoot in this trimester. Well, a semester is divided into two parts here which are called trimesters. Done with linear algebra, python, discrete maths. My assumption is they will complete DSA by this 2nd semester only; after all, the faculties here are real-world professionals. Also, by the end of the 3rd semester, we would be in our internships which as our curriculum said after 1.5 years which is 3 semesters. This would be different for upcoming batches as for them it would be after the 4th semester or 2 years of joining the program. Also, you are offered gym membership from scaler side and as for pool and things like badminton, cricket the bus goes to raptor on each weekend which is most of the time Saturday and Sunday. Also, if you are a big fan of campus and are thinking of spending time in nature assuming that you will have a very big campus then, I am sorry to shatter that notion but literally there is no campus. Our college is a building only looks very cool and bunch of things happen inside like there's an innovation lab where there are two different 3d printers where students do their things like making something from things like arduino. There's only one apple vision pro for those who have apple and are interested in building projects for it. Some 2â€“3 internships happened here in these 8 months I guess all are/were unpaid most probably. Some competitions happen here too like there was chess competition, table tennis competition, 1 hackathon, cp competition. Also, the peers you will find here are not some random persons they have excelled in some field. Also, there are supermentor sessions where highly successful people come and teach us every trimester.\n\nBut to be honest there are some cons too like there is no campus and the college is a modern looking building and food is okay okay.\n\n3.3K viewsView upvotesView 1 share\nRelated questions\nIs Scaler School of Technology really worth it?\nWhat is Scaler School of Technology?\nIs Scaler School of Technology a fraud?\nWhat is the difference between Newton School of Technology and Scaler School of Technology and which is the best?\nDoes the BSc and MSc degree provided by Scaler School of Technology worth less than a BTech degree? Does it affect job opportunities for me?\nProfile photo for Jaya Bhuvanesh\nJaya Bhuvanesh\n11mo\nI think most of the engineering fields are currently saturated, but computer science is booming. It was invented some 2 decades back and the way it is progressing, there will be numerous opportunities within it in the future.\n\nHence, there is a high demand for brilliant and skilled computer scientists who can work with web development, AI, data structure, coding and so on. However, college education is not producing this brilliance and that is why after my degree, I opted to take my learning into my own hands, and went for @Scaler.\n\nWhat helped me personally:\n\nI got the right course material collate\nProfile photo for Vimal Tiwari\nVimal Tiwari\nEngineer @Google | Writer | Not from IIT, NIT, IIIT or IIMAuthor has 69 answers and 8.8M answer views\n Â· \nUpdated 2y\nRelated\nWhat is your review of Scaler Academy?\nIf you are searching for a scaler academy or similar institutes, you probably thinking of joining a product-based company.\n\nFirstly, It is very important to understand, the reason for joining a product-based company. Since a lot of hype of product companies has been created, through LinkedIn and Youtube, people have started thinking about moving from their current job to product companies, doesnâ€™t matter how well, they are performing currently.\n\nItâ€™s not bad to think about growth, but itâ€™s important to analyze, why do you want to make such a move especially when everything is sorted in your curren\n\nProfile photo for Manan Agrawal\nManan Agrawal\nBsc+Msc in Computer Science, Scaler School of Technology (Expected 2027)\n Â· \nMay 13\nRelated\nWhich is the best, IIT, Scalar School of Technology, or Newton school of technology?\nHello, Manan here. I am a student at Scaler School of Technology. I will try to answer this question in an unbiased manner.\n\nIf you are getting CSE at any IIT, go ahead take it and donâ€™t look back, you have earned it.\n\nBut if you are not eligible for CSE at IITs and are passionate about CS, thatâ€™s where colleges like Scaler and Newton enter.\n\nRather than getting a degree you do not want. You can get BSc from BITS pilani and MS from a international university here at Scaler and thatâ€™s not even the best part, you will learn all the relevant skills for the industry and there is also a 1 year compulsory\n\nYour response is private\nWas this worth your time?\nThis helps us sort answers on the page.\nAbsolutely not\nDefinitely yes\nRelated questions\nIs Scaler Academy really useful or just a scam?\nShould I join Scaler School of Technology after 12th?\nI am hesitant to join Scaler School of Technology as it provides a BSc degree rather than a BTech degree. What are your thoughts on the same?\nWhich is the best, IIT, Scalar School of Technology, or Newton school of technology?\nIs Scaler Academy worth it for a fresher?\nProfile photo for Medha\nMedha\nStudent at Scaler School of Technology\n Â· \nMar 16\nRelated\nIs Scaler School of Technology a fraud?\nThe answer to this question is a big â€œNOâ€, and what makes me qualified for saying that? Well, I am currently studying at Scaler School of Technology and my journey so far has been great till now.\n\nWhile I was searching for colleges, I came across SST, the curriculum and the advertising really made me jump out of bed. I had the same doubt as yours, this was the first and we being the first batch will it be able to stand out in aspects that we desire while preparing for Entrance Exams? Some of the answers turned out to be no and some came out to be a solid yes. I researched about it a lot, convinc\n\nProfile photo for Siva Sai\nSiva Sai\nTechnology Aficionado Author has 696 answers and 533.6K answer views\n Â· \nFeb 5\nRelated\nWhat is the difference between Newton School of Technology and Scaler School of Technology and which is the best?\nHey there! Great question about Newton School of Technology and Scaler School of Technology. Let me break it down for you. Both institutions have their unique strengths, and the best choice really depends on your personal goals and learning style.\n\nNewton School is like that cozy neighborhood cafe you've been going to for years. It's known for its hands-on approach and practical learning environment. The curriculum is well-structured, and they focus on building a strong foundation in programming and problem-solving. It's perfect if you prefer a more traditional classroom setup and need that extr\n\nProfile photo for Harsh Kumar\nHarsh Kumar\nLives in Bengaluru, Karnataka, India (2023â€“present)\n Â· \nUpdated Apr 16\nRelated\nI am hesitant to join Scaler School of Technology as it provides a BSc degree rather than a BTech degree. What are your thoughts on the same?\nâ€œA degree can open doors , but skills are what let you stick around.â€\n\nEven I was having the doubt (Degree vs Skills) ,when I was thinking of taking the admission into Scaler School of Technology.\n\nAfter coming into the line of Computer Science and realising the importance of skills , I can confidently say that the choice I made of keeping Skills ahead of degree , was the best choice of my life .\n\nIf I would have joined some college which gives traditional BTech , I would have been passing my time in just enjoying the hostel and college life .\n\nI would definitely say , it is the skill which matters in\n\nProfile photo for Prakash Shukla\nPrakash Shukla\nSoftware Enginner at BookMyShow (2021â€“present)\n Â· \nMar 24\nRelated\nIs Scaler School of Technology really worth it?\nI believe I'm the right person to answer this, as I have some relevant information to share. I'm also a Scaler alumni, having completed the full-stack course in 2021. Despite a seven-year career gap, I secured my first coding job at Townscript, BookMyShow Enterprises, with a high-paying CTC. Many doubted that coming from a tier 3 college with 7yrs gap, and at the age of 30, it was impossible to enter IT as a software engineer. Thanks to Scaler, I proved them wrong.\n\nNow, about Scaler School of Technology, I visited Scaler College on March 8, 2024, in Bangalore, and interacted with four students.\n\nProfile photo for Venkatesh Alampally\nVenkatesh Alampally\nStudies Computer Science (Expected 2027)\n Â· \nMar 25\nRelated\nDoes Scaler School of Technology teach coding from the start, or should one have some prior experience of coding?\nHey there,\n\nAs a current student at Scaler School of Technology (SST), I can confidently say they teach programming from scratch. In the first 3 months, we have a dedicated course called \"Introduction to Programming\" which focuses on learning a language (like Java) from the ground up, equipping you to communicate effectively with computers.\n\nThe only prerequisites are a strong foundation in math (which is likely if you've cracked NSET) and basic computer literacy. We have dedicated Batch Success Managers (BSMs) to guide us through any challenges.\n\nSo, even if you don't have prior coding experience,\n\nProfile photo for Prakash Shukla\nPrakash Shukla\nSoftware Enginner at BookMyShow (2021â€“present)\n Â· \nApr 3\nRelated\nWhat is the difference between Newton School of Technology and Scaler School of Technology and which is the best?\n\nIt's an interesting comparison. Let's start with Scaler, about which I have more insight, as I joined a one-year full-stack program in October 2020 and landed my first big opportunity in IT (at the BookMyShow Group) in June 2021, thanks to Scaler. I believe the four-year program at Scaler is very powerful because I have seen the impact of the one-year program myself. The college is highly selective, admitting only 192 students last year out of 54,000 applications. This year, applications could reach 1 lakh (my guess). They choose the best students and groom them with industry experts.\n\nDuring my\n\nProfile photo for Harsh Kumar\nHarsh Kumar\nB.Sc + M.Sc in Computer Science, Scaler School of Technology (Expected 2027)Mar 18\nRelated\nWhat is the difference between Newton School of Technology and Scaler School of Technology and which is the best?\nFirst , I want you to know that I am from Scaler School of Technology . So, I donâ€™t know much about newton school of technology .\nI can tell you about how does it feel to be at Scaler School of Technology.\n\nStarting with the highlights :\n\n1. The curriculum at SST is closely aligned with industry standards ,like DSA ,Web Dev, Linear Algebra , Probability and Statistics ,etc with the exception of physics, chemistry, and the less engaging aspects of mathematics , resulting in engaged learning.\n2. We have the chance to connect with numerous individuals involved in the tech industry , helping getting useful insights.\n3. We get the Super Mentor Sessions from people like Amod Malviya (CEO,Udaan), Bhavin Turakhiya(CEO,Zeta) and many more , helping in expanding our network.\n4. We also get 1:1 mentor session with the current working professionals from companies like Google,Paypal,Amazon,etc. (And when I say we get this , I am very honest with my words).\n\nThere are also some cons like :\n\n1. Small campus size resulting in a very limited college life.\n2. A very hectic academic schedule .\n\nThereâ€™s a saying in the field of Computer Science ,â€Efficiency in coding balances the trade-off between time and space.â€\nSo, by trading off these two cons, we are getting a wonderful opportunity to learn some extra ordinary skills which will keep us amongst the top 1% of the software Engineers.\n\n\n2.2K viewsView upvotes\n1 of 3 answers\n\n\nProfile photo for Kumar Prince\nKumar Prince\nStudies BS + MS in computer science at scaler school of technology (Expected 2027)Updated Apr 22\nRelated\nIs Scaler School of Technology really worth it?\nso,the most interesting question nowadays !!!\n\nwhy should you believe me : As i am a student of scaler school of technology and i can give you the best answer than anyone else as i have experienced it.\n\nwhat is scaler school of technolgy ?? just go to this website and read about it,if you donâ€™t knw about it.\n\nScaler School of Technology\nScaler School of Technology - Undergraduate Program delivered by 100+ leaders from Google, Microsoft, Uber etc.\nhttps://www.scaler.com/school-of-technology/?utm_source=ads&utm_medium=googlesearch&utm_campaign=perf_scaler-ug1_requestcallback_ads_googlesearch_brand-search_india_all&utm_content=e-scaler-ug&utm_term=scaler%20school%20of%20technology&param1=658072413088&param2=c&param3=&gad_source=1&gclid=Cj0KCQjwhtWvBhD9ARIsAOP0Gogcjx6y05yWVWfx89mRga0l5JRhH_K4dtgXmn7ZUbqnwl-kW9cbrSMaApNIEALw_wcB\nit has been almost eight months since i have joined it and i can really say that life here has been literally very different !!!\n\nwe have trimester system here i.e in one year there will be almost three - four trimester. and number of holidays can vary.\n\nin first three month,i played a lot, took part in various competitions(hackathon and competitive programming),took part in dramatics,skits,music and organized orientation day for intake 2 or 3(as we had 3 intakes this year).I improved my leadership skills and had given presentation on startup(which was part of our curriculum).learnt python,c++ and java basics.Improved social skills and communication skills.Met many youtubers like mohak mangal,love babbar etc. and met with co-founderâ€™s and CTO of big firm.I was selected as core member fo cultural club and gave my best to have best diwali celebration at SST. I wanted to start my startup and i had plans too, i worked on it but after understnading the complelxity of the startup i dropped off as many players were playing the same battle.I roamed at many places in bangalore and literally enjoyed a lot after jee peiod.\n\nHeading on to trimester two,here i participated in icpc securing AIR inder 1500 with my team member MEDHA SHREE and HARSHIT SACHAN.I resigned from the post of core member of cultural club and started my own venture knwn as LEARNERâ€™S MEDIA to help students to mannage stress during preparation of competitive examninationâ€™s.made a group of exciting and thrilling students of almost 100 and taking almost 3 online sessionâ€™s in past two monthâ€™s but again dropped off because i get to knw form my teacher that for starting such a business, you mst be professionally certified because if any of the unexpected thing happenned then you will solely responsible for it and charges can be their against you too.understanding that i had no certification in this then i had drop this plan.here,we have to study a lot because any time anyone can come to visit and meet you.you have to skilled in managing your time in best possible way .in trimester 2 i had to leave gym too as workload was there.after some days,bits exam approached and then i had to prepare for it. I met many content creators from the head of youtube india to the content creators ofAEVY TV(youtube channel).the team of mohakâ€™s youtube channel came to visit us and provided us guidance on many important aspects of content creation,editing,usage of AI tools and much more.I created my own youtube channel and started content there,in which one of my video reached 1k views too,planning to expand it as i gets more time in future and my academics got affected in many terms but i coped with it.\n\nin trimester 3,understanding the workload on us,the management eased some of the stuffâ€™s and we were slightly free in this trimester,whole exam pattern changed and new set of rules were redefined strictly to change the academics.i had not scored much in trimester 2 so i was little depressed,upon consideration from my teacher ,i took mental health session from lissun(scaler has tie up with them) and felt good aftâ€™er taking it,copedup with many pre college,academic and family stress and here i am doing well and again met with many induatry leaderâ€™s,had seesion on electric vehicle,dukaan founder visited us,amodh malviye sir took classes for us !!!\n\nsome thing went well,some i messed up but it was all learning which i had to learn and got a vast experience.\n\nif u are coming to scaler for fun,then donâ€™t join it.Join it only if u have deep interest in computer science.I can say that its best for computer science.You will get to learn a lot from it in all important aspect of life and as sports is concerned u can play sports on weekend in turfâ€™s, which scaler has tie up with,food is somewhaty good but not that much but what can you expect from hostle,so its good,Accomodation is also well,you have to learn how to stay in communities and behave well.\n\nyou can check out my linkedin profile and can learn more about me and scaler at :\n\nhttps://www.linkedin.com/in/prince-kumar-39b444279/\nand can also connect with me on insta :\n\nPrince (@kumarprince.7999) â€¢ Instagram photos and videos\n534 Followers, 404 Following, 1 Posts - See Instagram photos and videos from Prince (@kumarprince.7999)\nhttps://www.instagram.com/kumarprince.7999/?next=%2Fhandle_04%2F\nand most importantly made a lot of friends here.Stay happy,Stay blessed !!!\n\ngood luck for your life ahead !!!\n\nProfile photo for Himanshu Chaudhary\nHimanshu Chaudhary\nWeb Administrator at Indian Secret Services (2020â€“present)Author has 42.6K answers and 5.7M answer views\n Â· \n8mo\nRelated\nWhich is the best, IIT, Scalar School of Technology, or Newton school of technology?\nThe strength of Scaler School of Technology lies in its 900 Career Partners, 3700+ learners who are placed in top tech companies and INR 900 Crores of the total placement package secured by students in the past 4 years. The highest package offered during the last placement season was INR 1.7 Crore per annum.\n\nPlacements: Almost 100% of students got placed on campus. The highest salary package offered is 64 LPA. The average salary package offered is 12 LPA. Google, Amazon, and Flipkart visit our college.\n\nProfile photo for Ayush Mishra\nAyush Mishra\nSoftware Engineer 2 at Microsoft (company) (2022â€“present)11mo\nRelated\nIs Scaler School of Technology really worth it?\nIn the realm of computer sciences, practicality is the compass that guides the voyage of learning. It is the hands-on experience that navigates the depths of complexity, illuminating the path towards mastery and empowering minds to forge innovationðŸ’¡\n\nWith the Scaler launching their School of Technology and flagship UG programmes, I couldnâ€™t help but look back at my UG experience too. On paper, I was the ideal student with a 9 CGPA and a strong theoretical base but when it came to practicality, I felt impaired especially while entering the professional workspace where companies expect you to come with skills.\n\nI knew I still had a lot of ground to cover to develop my skills owing to which I started learning online. Only problem? Even after months of being at it, I couldnâ€™t see any tangible results. That was the time my journey with @Scaler started. And with that,\n\nIn addition to theory, I learned to develop a logical mindset to deal with problems\nI got to study with quality Mentors ,who focused on helping us develop this mindset\nWith the SST program, I canâ€™t wait to see the change that Scaler Academy brings to computer science learning systems as we know it.\n\nAnd for all my dear CS aspirants out there, Iâ€™d again reiterate\n\nðŸ’¡Without practical knowledge, thereâ€™s no way you would be able to know and enjoy the computer sciences field\n\nðŸ’¡Plus, even with that, you need a learning mindset that helps you continuously evolve because herein, a new technology overtakes an existing overspeeding right through haha!\n\nAnd with that, best of luck SCALER for the initiative and to all the students out there too!\n\n#tech #SST #scaler #programmer #computersciences #ScalerSchoolofTechnology\n\n\n\n\nthese are the reveiws of students and mentors, so if user asks any reviews provide the summary of reviews and if u can, mention name of student\n There are currently 191 students in Batch 1 of Scaler School of Technology\n\n\n",
  });
  
  const generationConfig = {
    temperature: 0.75,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "text/plain",
  };
  
  const safetySettings = [
    {
      category: HarmCategory.HARM_CATEGORY_HARASSMENT,
      threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,
    },
    {
      category: HarmCategory.HARM_CATEGORY_HATE_SPEECH,
      threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,
    },
    {
      category: HarmCategory.HARM_CATEGORY_SEXUALLY_EXPLICIT,
      threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,
    },
    {
      category: HarmCategory.HARM_CATEGORY_DANGEROUS_CONTENT,
      threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,
    },
  ];
  

    const chat = model.startChat({
      generationConfig,
      safetySettings,
      history: [
        {
          role: "user",
          parts: [
            {text: "hi "},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Hi there! How can I help you today? Are you interested in Scaler School of Technology?  ðŸ˜Š \n"},
          ],
        },
        {
          role: "user",
          parts: [
            {text: "yes\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Great! What would you like to know about Scaler School of Technology? ðŸ˜„\n\nAre you curious about:\n\n* **Specific courses:** They have various programs, so knowing your interests would help! \n* **The application process:**  Want to know about admissions?\n* **Student life:**  Curious about the experience of being a Scaler student?\n* **General reviews:** Want to hear what other students have to say? \n\nLet me know how I can help! \n"},
          ],
        },
        {
          role: "user",
          parts: [
            {text: "i want to hear what students are saying\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "You got it!  Here's a summary of what students are saying about Scaler School of Technology, based on the reviews you provided:\n\n**Positive Highlights:**\n\n* **Industry-Relevant Curriculum:** Students like Shivam and Kumar Prince praise the curriculum for focusing on in-demand skills like DSA, Web Dev, and providing a practical learning experience.\n* **Experienced Faculty:** Shivam points out that the instructors are real-world professionals, which adds to the value of the education.\n* **Strong Placement Support:**  Prakash Shukla, an alumnus, highlights the extensive career support and mentions his own success finding a high-paying job after graduating.\n* **Mentorship Opportunities:** Manan Agrawal and Harsh Kumar appreciate the opportunities to connect with industry professionals through mentorship programs and super mentor sessions.\n\n**Things to Consider (Areas for Improvement):**\n\n* **Limited Campus Life:**  Shivam and Harsh Kumar mention the small campus size as a drawback, which might mean fewer opportunities for traditional college experiences. \n* **Demanding Workload:**  Kumar Prince describes the academic schedule as \"hectic\" and something to be prepared for.\n* **Food Quality:**  Shivam notes that the food is \"okay okay,\" which might be a common sentiment in a hostel environment.\n\n**Overall:**\n\nStudents generally have positive things to say about Scaler School of Technology, especially when it comes to the quality of education and career support. However, it's essential to be aware of the demanding workload and the limited campus life if those factors are important to you.\n\n**Want to dive deeper?**  Tell me what aspects of student experience matter most to you, and I can share more specific feedback from the reviews! For example, are you curious about the teaching style, the coding bootcamp experience, or the community atmosphere? \n"},
          ],
        },
        {
          role: "user",
          parts: [
            {text: "yeah i would love to know all thaht\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, great! Let's dive into those aspects of student life at Scaler School of Technology:\n\n**1. Teaching Style:**\n\n* **Fast-Paced and Practical:** Based on Shivam's review, the teaching style at Scaler School of Technology seems to be quite fast-paced and focused on practical application. He mentions covering topics like Pandas, NumPy, and Matplotlib in single sessions, indicating a condensed learning approach.\n* **Industry-Driven:** The emphasis on skills like backtracking, React, and SpringBoot, as highlighted by Shivam, suggests that the curriculum is designed to equip students with in-demand industry knowledge.\n\n**2. Coding Bootcamp Experience:**\n\n* **Intensive and Rigorous:**  While there isn't explicit mention of the term \"bootcamp,\" Kumar Prince's description of the workload as \"hectic\" implies a demanding and immersive learning experience, likely akin to a coding bootcamp's intensity. \n* **Project-Based Learning:** The presence of an innovation lab with 3D printers, as mentioned by Shivam, suggests opportunities for hands-on, project-based learning, which is a hallmark of coding bootcamps. \n\n**3. Community Atmosphere:**\n\n* **Driven and Ambitious:** The reviews paint a picture of a student body that is highly motivated and driven to succeed in the tech industry.  Kumar Prince emphasizes that Scaler is not for those seeking \"fun\" but for those with a deep interest in computer science.\n* **Collaborative:** Despite the demanding workload, there's a sense of camaraderie among students. Kumar Prince highlights the importance of teamwork, mentioning his experience participating in ICPC (International Collegiate Programming Contest) with his peers. \n* **Supportive Network:** The availability of mentorship programs, super mentor sessions, and Batch Success Managers (BSMs), as described by Manan Agrawal and Venkatesh Alampally, points to a supportive environment where students can seek guidance and build connections.\n\n**In a nutshell:** Scaler School of Technology seems to foster a community of ambitious individuals driven by a shared passion for technology. The learning environment appears to be intensive and fast-paced, resembling a coding bootcamp experience, with a strong focus on practical skills and industry relevance.\n\nI hope this deeper dive is helpful! Let me know if you have any other questions. ðŸ˜Š \n"},
          ],
        },
        {
          role: "user",
          parts: [
            {text: "who are the intructors that had taught for 1st batch students in sst\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Unfortunately, the reviews you provided don't mention the specific names of instructors who taught the first batch of students at SST. \n\nTo find out more about the instructors, you could try these options:\n\n1. **Check the Scaler School of Technology website:** The website might have a faculty directory or information about the instructors for their programs. \n2. **Reach out to Scaler School of Technology directly:**  Contact their admissions or student support team. They'd be the best source for the most up-to-date information about their instructors.\n3. **Connect with current or former SST students:**  You can try finding them on LinkedIn or other platforms. They might be able to share their experiences and insights about the instructors.\n\nI hope this helps! Let me know if you have any other questions. ðŸ˜Š \n"},
          ],
        },
        {
          role: "user",
          parts: [
            {text: "okey how can i apply to sst\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Here's how you can apply to Scaler School of Technology (SST), along with some tips to keep in mind:\n\n**1. Visit the Scaler School of Technology Website:**\n   - Go to the official website: [https://www.scaler.com/school-of-technology/](https://www.scaler.com/school-of-technology/)\n\n**2. Navigate to the Admissions Section:**\n   - Look for a section specifically related to admissions or \"Apply Now\" buttons. \n\n**3. Review Eligibility Criteria:**\n   - Make sure you meet the eligibility requirements for the program you're interested in. \n   - Common requirements may include:\n     - Completing 12th grade (or equivalent) for undergraduate programs. \n     - A strong academic record.\n     - Potentially, specific subject prerequisites (like mathematics).\n\n**4. Fill out the Application Form:**\n   - Provide accurate and complete information about your academic background, contact details, and any other required details.\n\n**5. Entrance Exam (NSET):**\n   - SST uses its own entrance exam called the National Scaler Aptitude Test (NSET) to assess candidates' aptitude. \n   - Prepare for the exam by reviewing the syllabus and practicing sample questions. \n\n**6. Interview Process:**\n   - If you qualify based on the NSET, you'll likely have an interview round. \n   - This interview might assess your problem-solving skills, communication abilities, and motivation for pursuing a tech career. \n\n**Tips for a Strong Application:**\n* **Highlight Your Passion for Technology:**  Clearly articulate your interest in computer science and your career aspirations in the tech industry. \n* **Showcase Your Skills:**  If you have any coding experience, projects, or extracurricular activities related to tech, make sure to mention them.\n* **Craft a Compelling Statement of Purpose (SOP):** Your SOP is your chance to tell your story and explain why you're a good fit for SST. \n* **Prepare Thoroughly for the NSET:** A good score on the entrance exam is crucial for your application.\n\n**Important:** Application deadlines, eligibility criteria, and the application process itself might change. Always refer to the official Scaler School of Technology website or contact their admissions team for the most up-to-date information.\n\nI hope this helps! Feel free to ask if you have any other questions.  Best of luck with your application! ðŸ˜Š \n"},
          ],
        },
      ],
    });
    const result = await chat.sendMessage(userInput);
    const response = result.response;
    return response.text();
  }
  
  app.get('/', (req, res) => {
    res.sendFile(__dirname + '/index.html');
  });
  app.get('/loader.gif', (req, res) => {
    res.sendFile(__dirname + '/loader.gif');
  });
  app.get('/sessions.html', (req, res) => {
    res.sendFile(__dirname + '/sessions.html');
  });  
  app.post('/chat', async (req, res) => {
    try {
      const userInput = req.body?.userInput;
      console.log('incoming /chat req', userInput)
      if (!userInput) {
        return res.status(400).json({ error: 'Invalid request body' });
      }
  
      const response = await runChat(userInput);
      res.json({ response });
    } catch (error) {
      console.error('Error in chat endpoint:', error);
      res.status(500).json({ error: 'Internal Server Error' });
    }
  });
  
  app.listen(port, () => {
    console.log(`Server listening on port ${port}`);
  });